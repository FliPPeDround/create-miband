var hmFS={fileDataMap:{},fileIndexMap:{},fileStatMap:{},stat_asset:function(a){var b=this;if(this.fileStatMap[a])return this.fileStatMap[a];getData("/watchface/assets/"+a).then(function(c){b.fileDataMap[a]=new Uint8Array(c);console.log(c);b.fileStatMap[a]=c?[{size:c.byteLength},0]:[{size:0},-1]})},open_asset:function(a){return a},seek:function(a,b){this.fileIndexMap[a]=b},read:function(a,b,c,d){c=0;this.fileIndexMap[a]&&(c=this.fileIndexMap[a]);a=this.fileDataMap[a];b=new Uint8Array(b);for(var e=0;e<d;e++){var f=c+e;f<a.length&&(b[e]=a[f])}},readdir:function(a){return[dirdumymap[a],0]},close:function(a){},SysProGetInt64:function(a){return(a=window.localStorage.getItem(a))?parseInt(a):0},SysProSetInt64:function(a,b){window.localStorage.setItem(a,b)}},dirdumymap={"/":["folder1\u6709","folder2\u6709","\u6587\u4ef6\u59393","\u6587\u4ef6\u59394"],"/folder1\u6709/":["folder1_sub1","folder1_sub2\u6709","folder1_sub3"],"/folder2\u6709/":["folder2_sub1","folder2_sub2","folder2_sub3","folder4_sub3"],"/folder1\u6709/folder1_sub2\u6709/":["last_folder"]};function getData(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a);d.responseType="arraybuffer";d.onreadystatechange=function(a){console.log("xhr.readyState:"+d.readyState+"   xhr.status:"+d.status);4===d.readyState&&(200===d.status?(a=d.mozResponseArrayBuffer||d.mozResponse||d.responseArrayBuffer||d.response,console.log(a),b(a)):(console.log("error"),c("")))};d.send(null)})}function hmFSPreLoad(a,b){if(a&&0<a.length){for(var c=0;c<a.length;c++)hmFS.stat_asset(a[c]);setTimeout(b,500)}else b()};